# AI Accounting Tool - 使い方ガイド

このツールは、Gemini AIを使用してレシートや明細から会計データを抽出し、Googleスプレッドシートに自動記帳するツールです。

## 主な機能
1.  **マルチ形式対応**: レシート画像（JPG/PNG）、PDF明細、クレジットカードCSVに対応。
2.  **歴史学習**: 過去の記帳内容をAIが学習し、取引先に応じた勘定科目を自動で提案します。
3.  **自動集計**: 「仕訳明細」に入力すると、「損益計算書」シートに科目ごとの合計がリアルタイムで集計されます。

## セットアップ
1.  **Google Cloud Console**:
    - `Google Sheets API` と `Google Drive API` を有効にする。
    - サービスアカウントを作成し、`credentials.json` としてダウンロードしてプロジェクトフォルダに置く。
2.  **スプレッドシートの共有**:
    - スプレッドシートをサービスアカウントのメールアドレスに「編集者」権限で共有する。
3.  **環境設定**:
    - `.env` ファイルに `GEMINI_API_KEY` と `SPREADSHEET_ID` を設定する。

## 操作方法
1.  `python main.py` を実行。
2.  ブラウザで `http://localhost:5001` を開く。
3.  画像、PDF、またはCSVをドラッグ＆ドロップ。
4.  解析結果を確認・修正し、「スプレッドシートに書き込む」をクリック。

## セキュリティに関する注意
- `credentials.json` と `.env` は秘密鍵が含まれているため、絶対にGitHubなどの公開の場にアップロードしないでください。
- `.gitignore` でこれらが除外されるように設定されています。
